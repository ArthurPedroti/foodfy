{% extends "web/layout.njk" %}
{% block head %}
  <title>Receitas - Foodfy</title>
{% endblock %}
{% block content %}

  <section class="admin">
    <p class="cards__section-title">Buscando por "{{filter}}"</p>
    <div class="cards">

      {% for item in items %}
        <div class="card" id="{{item.id}}">
          <div class="card__image-container">
            <img src="{{item.src}}" alt="{{item.title}}"/>
          </div>
          <div class="card__content">
            <p class="card__title">{{item.title}}</p>
            <p class="card__subtitle">por
              {{item.chef_name}}</p>
          </div>
        </div>
      {% endfor %}

    </div>

    <div class="pagination" data-page="{{ pagination.page }}" data-total="{{ pagination.total }}" data-filter="{{ filter }}"></div>

  </section>

  <script>
    const modalOverlay = document.querySelector(".modal-overlay");
    const cards = document.querySelectorAll(".card");

    for (let card of cards) {
      card.addEventListener("click", function () {
        const id = card.getAttribute("id");
        window.location.href = `/recipes/${id}`;
      });
    }
  </script>

{% endblock %}